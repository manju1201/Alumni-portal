<!DOCTYPE html>
{% extends "base.html" %}
{% block title %}Register{% endblock %}
{% block content %}
<style>
    .register{
        background: -webkit-linear-gradient(left, #3931af, #00c6ff);
        margin-top: 3%;
        padding: 3%;
        margin-bottom: 3%;
    }
    .register-left{
        text-align: center;
        color: #fff;
        margin-top: 31%;
    }
    @media (max-width: 768px) {
        .register-left{
            margin-top:10%;
        }
    }
    .register-left input{
        border: none;
        border-radius: 1.5rem;
        padding: 2%;
        width: 60%;
        background: #f8f9fa;
        font-weight: bold;
        color: #383d41;
        margin-top: 30%;
        margin-bottom: 3%;
        cursor: pointer;
    }
    .register-right{
        background: #f8f9fa;
        border-top-left-radius: 10% 50%;
        border-bottom-left-radius: 10% 50%;
    }
    .register-left img{
        margin-top: 15%;
        margin-bottom: 5%;
        width: 25%;
        -webkit-animation: mover 2s infinite  alternate;
        animation: mover 1s infinite  alternate;
    }
    @-webkit-keyframes mover {
        0% { transform: translateY(0); }
        100% { transform: translateY(-20px); }
    }
    @keyframes mover {
        0% { transform: translateY(0); }
        100% { transform: translateY(-20px); }
    }
    .register .register-form{
        padding: 8%;
        margin-top: 22%;
    }
    .btnRegister{
        float: right;
        margin-top: 10%;
        border: none;
        border-radius: 1.5rem;
        padding: 2%;
        background: #0062cc;
        color: #fff;
        font-weight: 600;
        width: 50%;
        cursor: pointer;
    }
    .register .nav-tabs{
        margin-top: 3%;
        border: none;
        background: #0062cc;
        border-radius: 1.5rem;
        width: 28%;
        float: right;
    }
    .register .nav-tabs .nav-link{
        padding: 2%;
        height: 34px;
        font-weight: 600;
        color: #fff;
        border-top-right-radius: 1.5rem;
        border-bottom-right-radius: 1.5rem;
    }
    .register .nav-tabs .nav-link:hover{
        border: none;
    }
    .register .nav-tabs .nav-link.active{
        width: 117px;
        color: #0062cc;
        border: 2px solid #0062cc;
        border-top-left-radius: 1.5rem;
        border-bottom-left-radius: 1.5rem;
    }
    @media screen and (max-width:600px){
        .register .nav-tabs .nav-link.active {
            width: 85px;
            color: #0062cc;
            border: 2px solid #0062cc;
            border-top-left-radius: 1.5rem;
            border-bottom-left-radius: 1.5rem;
        }
    }

    @media screen and (max-width:600px){
        .register  .nav-tabs .nav-link.active .nav-link{
            width:100px;
        }
    }
    @media screen and (min-width:360px){
        .recaptcharegister{
            padding-left: 60px;
        }
    }
    @media screen and (max-width:360px){
        .form-group{
            width:230px;
        }
    }

    .register-heading{
        text-align: center;
        margin-top: 14%;
        margin-bottom: -23%;
        color: #495057;
    }
    .btnLgn{
        /*float: right;*/
        margin-left: 25%;
        border: none;
        border-radius: 1.5rem;
        padding: 2%;
        background: #0062cc;
        color: #fff;
        font-weight: 600;
        width: 50%;
        cursor: pointer;

    }
    .invalid-feedback {
        display: initial;
    }

</style>
        <div style="margin-top:27px"></div>
        {% if form.errors %}
            {% for field in form %}
                {% for error in field.errors %}
                    <div class="alert alert-danger">
                        <strong>{{ error|escape }}</strong>
                    </div>
                {% endfor %}
            {% endfor %}
            {% for error in form.non_field_errors %}
                <div class="alert alert-danger">
                    <strong>{{ error|escape }}</strong>
                </div>
            {% endfor %}
        {% endif %}

        <div class="container register">

            <div class="row">
                <div class="col-md-3 register-left">
                    <img src="https://image.ibb.co/n7oTvU/logo_white.png" alt=""/>
                    <h3>Welcome</h3>
                </div>

                <div class="col-md-9 register-right">
                    <ul class="nav nav-tabs nav-justified" id="myTab" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" href="{% url 'register' %}">Register</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'login' %}?next={{ request.path }}">Login</a>
                        </li>
                    </ul>
                    <form action="." method="post" onsubmit="return checkForm(this);">
                    {% csrf_token %}
                    {{ form.non_field_errors }}
                        <div class="tab-content" id="myTabContent">
                        <div class="tab-pane fade show active" role="tabpanel">
                            <h3 class="register-heading">Register</h3>

                            <div class="row register-form" style="padding-bottom:0px;">
                                <div class="col-md-6 ">
                                    <div class="form-group">
                                        <input type="text" class="form-control" id="id" placeholder="Username*" name="username" required>
                                        <p id="idval"></p>
                                    </div>
                                    <div class="form-group">
                                        <input type="email" class="form-control" placeholder="Email*" name="email" required>
                                    </div>
                                    <div class="form-group">
                                        <input type="text" class="form-control" placeholder="First-Name" name="first_name" required>
                                    </div>
                                    <div class="form-group">
                                        <input type="text" class="form-control"  placeholder="Last-Name" name="last_name" required>
                                    </div>
                                    <div class="form-group">
                                        <input type="text" class="form-control"  placeholder="Company" name="company" required>
                                    </div>
                                    <div class="form-group">
                                        <input type="text" class="form-control"  placeholder="Place" name="place" required>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <input type="password" class="form-control" placeholder="password*" name="password" required>
                                    </div>
                                    <div class="form-group">
                                        <input type="password" class="form-control" placeholder="Repeat Password*" name="password2" required>
                                    </div>
                                    <div class="form-group">
                                        <input type="url" class="form-control" placeholder="LinkedIn Profile URL" name="linkedin_url" value="" required>
                                    </div>
                                    <div class="form-group">
                                        <input type="url" class="form-control" placeholder="Github Profile URL" name="github_url" value="" required>
                                    </div>
                                    <div class="form-group">
                                        <input type="url" class="form-control" placeholder="Portfolio URL" name="webpage_url" value="" required>
                                    </div>
                                    <div class="form-group">
                                        <input type="text" minlength="10" maxlength="17" id="phone_number" name="phone_number" class="form-control" placeholder="Mobile number in format '+99999'" value="" required/>
                                    </div>
                                </div>
                                <div class="col-md-12 form-group">
                                    <input type="text" minlength="10" maxlength="17" id="summary" name="summary" class="form-control" placeholder="Headline eg: I'm a web developer" value="" required/>
                                </div>
                                <div class="col-md-6 form-group">
                                    Passedout Year <select id="ddlYears" name="passout_year"></select>
                                </div>
                            </div>
                        </div>
                        <div class="recaptcharegister">
                            <script src='https://www.google.com/recaptcha/api.js'></script>
                            <div class="g-recaptcha" data-sitekey="6LdiIuUUAAAAAF553fy7yFnfHmdQNJCAC5gTHK2O"></div>
                        </div>
                        <p style="margin-left:63px;">
                            <input type="checkbox" id="terms" name="conditions" required/>
                            check the <a href="">terms and conditions</a>
                        </p>
                    </div>
                    <button type="submit" class="btnRegister" onclick="javascript:myFunction()" style="width:200px;margin-bottom: 15px;margin-top:3px;">Register</button>
                    </form>
                </div>
            </div>
            </div>
<script type="text/javascript">

    function checkForm(form)
    {

        if(!form.conditions.checked) {
            alert("Please accept the Terms and Conditions before you Sign Up!");
            form.conditions.focus();
            return false;
        }
        return true;
    }
  
</script>
<script type="text/javascript">
    window.onload = function () {
        //Reference the DropDownList.
        var ddlYears = document.getElementById("ddlYears");
 
        //Determine the Current Year.
        var currentYear = (new Date()).getFullYear();
 
        //Loop and add the Year values to DropDownList.
        for (var i = currentYear; i >= 2017; i--) {
            var option = document.createElement("OPTION");
            option.innerHTML = i;
            option.value = i;
            ddlYears.appendChild(option);
        }
    };
</script>


<script>
    function CheckId() {
        $.get('/register/', {username: $('#id').val()},
        function(data){
                if(data == '0') {
                    $('#idval').html("enter username");
                    $('#idval').css({
                        "color" : "red"
                    });
                } else if(data == "True"){
                    $('#idval').html("username is available.");
                    $('#idval').css({
                        "color" : "green"
                    });
                    $('#id').css({
                        "color" : "green"
                    });
                } else {
                    $('#idval').html("username is already taken.");
                    $('#idval').css({
                        "color" : "red"
                    });
                    $('#id').css({
                        "color" : "red"
                    });
                }

        });
    }
    function onChange(){
        $("#id").change( function() {CheckId()});
    }
    $(document).ready(onChange);
</script>

{% endblock %}
